(()=>{"use strict";var e,t={67760:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=[{url:"https://pixijs.com/assets/eggHead.png",id:"eggHead"},{url:"https://pixijs.com/assets/flowerTop.png",id:"flowerTop"},{url:"https://pixijs.com/assets/helmlok.png",id:"helmlok"},{url:"https://pixijs.com/assets/skully.png",id:"skully"}]},7028:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(67760)),o=s(i(60235)),r=s(i(81584)),l=s(i(32459)),a=s(i(63217)),d=s(i(42421)),h=s(i(94246)),u=s(i(36175)),c=s(i(34350)),f=s(i(79452)),p={modules:[{className:l.default,config:{background:"#44651b"}},{className:u.default},{className:r.default,config:{}},{className:o.default,config:n.default},{className:c.default},{className:h.default},{className:a.default,config:{title:{text:"PIXI MONSTER SLOTS!",style:{fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:!0,stroke:{color:4855888,width:5},dropShadow:{color:0,angle:Math.PI/6,blur:4,distance:6},wordWrap:!0,wordWrapWidth:440}},button:{text:"Spin the wheels!",style:{fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:!0,stroke:{color:4855888,width:5},dropShadow:{color:0,angle:Math.PI/6,blur:4,distance:6},wordWrap:!0,wordWrapWidth:440}}}},{className:d.default,config:{rows:5,columns:4,reelWidth:160,reelHeight:500,symbolSize:150,symbolIds:["eggHead","flowerTop","helmlok","skully"],randomSeed:1024,animation:{type:"gsap",config:{}}}},{className:f.default,config:{}}]};t.default=p},39697:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(68978));t.default=class{constructor(e){this.modules=[],this.config=e,this.signals=new n.default}init(){this.config.modules.forEach((e=>{const t=new e.className(this,e.config);this.modules.push(t)})),this.modules.forEach((e=>{e.init()}))}getModule(e){let t;return this.modules.forEach((i=>{i instanceof e&&(t=i)})),t}}},30998:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default={LOAD_RESOURCES:"LOAD_RESOURCES",RESOURCES_LOADED:"RESOURCES_LOADED",RENDERER_READY:"RENDERER_READY",RENDERER_TICK:"RENDERER_TICK",RENDERER_ADD_CONTAINER:"RENDERER_ADD_CONTAINER",RESIZE:"RESIZE",POINTER_UP:"POINTER_UP"}},60235:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433)),o=s(i(30998)),r=i(95894);class l extends n.default{constructor(e,t){super(e,t),this.assetsConfigItems=this.config}init(){super.init(),this.engine.signals.on(o.default.LOAD_RESOURCES,this.load.bind(this))}load(){const e=[];for(let t=0;t<this.assetsConfigItems.length;t++){const i=this.assetsConfigItems[t];r.Assets.add({alias:i.id,src:i.url}),e.push(i.id)}r.Assets.load(e).then(this.onLoadComplete.bind(this))}onLoadComplete(){this.engine.signals.send(o.default.RESOURCES_LOADED)}get(e){return r.Assets.get(e)}}t.default=l},38433:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.config=t,this.engine=e}init(){console.log("BaseModule init name: "+this.constructor.name)}getConfig(){return this.config}}},94246:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433)),o=s(i(32459));class r extends n.default{constructor(e,t){super(e,t)}init(){super.init(),this.addPixiJSChromeInspectorSupport()}addPixiJSChromeInspectorSupport(){const e=this.engine.getModule(o.default);window.__PIXI_APP__=e.getApp(),window.engine=this.engine}}t.default=r},34350:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433)),o=s(i(30998));class r extends n.default{constructor(e,t){super(e,t)}init(){super.init(),document.body.addEventListener("pointerup",this.onPointerUp.bind(this))}onPointerUp(e){this.engine.signals.send(o.default.POINTER_UP,e)}}t.default=r},81584:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433));class o extends n.default{constructor(e,t){super(e,t)}init(){super.init()}}t.default=o},32459:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433)),o=s(i(30998)),r=i(95894);class l extends n.default{constructor(e,t){super(e,t),this.app=new r.Application,window.addEventListener("resize",this.onWindowResize.bind(this),!1)}init(){super.init(),this.app.init({background:this.config.background,resizeTo:window}).then(this.onRendererReady.bind(this)),this.engine.signals.on(o.default.RENDERER_ADD_CONTAINER,this.onAddContainer.bind(this))}onRendererReady(){this.addCanvas(),this.addTicker(),this.engine.signals.send(o.default.RENDERER_READY)}addCanvas(){document.getElementById("view").appendChild(this.app.canvas)}addTicker(){this.app.ticker.add(this.onTicker.bind(this))}onTicker(){this.engine.signals.send(o.default.RENDERER_TICK)}getApp(){return this.app}onAddContainer(e){this.app.stage.addChild(e)}onWindowResize(){setTimeout((()=>{this.engine.signals.send(o.default.RESIZE)}),100)}}t.default=l},36175:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433));class o extends n.default{constructor(e,t){super(e,t)}}t.default=o},88519:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.stop=!1,this.proceed=!1}setStop(){this.stop=!0}setProceed(){this.proceed=!0}}},68978:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(30998)),o=s(i(88519));t.default=class{constructor(){this.subscribers=new Map}init(e){}on(e,t){const i=this.subscribers.get(e)||[];i.indexOf(t)>=0?console.warn("Signals on: subscriber already added"):i.push(t),this.subscribers.set(e,i)}send(e,t=null){[n.default.RENDERER_TICK].indexOf(e)<0&&console.log("Signals send: "+e,t);const i=this.subscribers.get(e);if(i){const e=new o.default;i.forEach((i=>{e.stop||i(t,e)}))}}}},71271:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.seed=0,this.seed=e%2147483647,this.seed&&(this.seed+=2147483646)}randomInt(){return this.seed=16807*this.seed%2147483647}random(){return(this.randomInt()-1)/2147483646}}},22366:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PIXITween=void 0;const n=s(i(30998));t.PIXITween=class{constructor(e){this.tweening=[],this.engine=e,this.init()}init(){this.engine.signals.on(n.default.RENDERER_TICK,this.onRendererTick.bind(this))}onRendererTick(){this.update()}tweenTo(e,t,i,s,n,o,r){const l={object:e,property:t,propertyBeginValue:e[t],target:i,easing:n,time:s,change:o,complete:r,start:Date.now()};return this.tweening.push(l),l}backout(e){return t=>--t*t*((e+1)*t+e)+1}lerp(e,t,i){return e*(1-i)+t*i}update(){const e=Date.now(),t=[];for(let i=0;i<this.tweening.length;i++){const s=this.tweening[i],n=Math.min(1,(e-s.start)/s.time);s.object[s.property]=this.lerp(s.propertyBeginValue,s.target,s.easing(n)),s.change&&s.change(s),1===n&&(s.object[s.property]=s.target,s.complete&&s.complete(s),t.push(s))}for(let e=0;e<t.length;e++)this.tweening.splice(this.tweening.indexOf(t[e]),1)}}},74017:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TweenProp=void 0,t.TweenProp="position"},28156:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(39697)),o=s(i(7028)),r=s(i(30998)),l=s(i(66690)),a=new n.default(o.default);a.init(),console.log(a),a.signals.send(r.default.LOAD_RESOURCES),a.signals.on(r.default.RESOURCES_LOADED,(()=>{a.signals.send(l.default.REELS_CREATE),a.signals.on(l.default.PLAY_CLICK,(()=>{a.signals.send(l.default.REELS_ANIMATION_START)}))}))},66690:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default={REELS_CREATE:"REELS_CREATE",REELS_CREATE_DONE:"REELS_CREATE_DONE",PLAY_CLICK:"PLAY_CLICK",REELS_ANIMATION_START:"REELS_ANIMATION_START"}},79452:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433)),o=i(95894),r=s(i(32459)),l=s(i(42421));class a extends n.default{constructor(e,t){super(e,t),this.renderer=null,this.reels=null,this.top=new o.Graphics,this.bottom=new o.Graphics,this.headerText=null,this.playText=null}init(){this.renderer=this.engine.getModule(r.default),this.reels=this.engine.getModule(l.default)}}t.default=a},48033:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(66690)),o=s(i(42421));t.default=class{constructor(e,t){this.reelsModule=null,this.reels=null,this.running=!1,this.engine=e,this.config=t}init(){this.reelsModule=this.engine.getModule(o.default),this.reels=this.reelsModule.getReels(),this.engine.signals.on(n.default.REELS_ANIMATION_START,this.onReelsAnimationStart.bind(this))}onReelsAnimationStart(){this.running||(this.running=!0,this.start())}start(){}end(){this.running=!1}}},84230:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(48033));class o extends n.default{constructor(e,t){super(e,t),this.tween=null}init(){super.init()}}t.default=o},69091:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(48033)),o=i(22366),r=s(i(30998)),l=i(85880);class a extends n.default{constructor(e,t){super(e,t),this.tween=null}init(){super.init(),this.tween=new o.PIXITween(this.engine),this.engine.signals.on(r.default.RENDERER_TICK,this.onRendererTick.bind(this))}start(){if(this.tween&&this.reels)for(let e=0;e<this.reels.length;e++){const t=this.reels[e],i=Math.floor(3*Math.random()),s=t.position+10+5*e+i,n=2.5+.6*e+.6*i;l.gsap.to(t,{duration:n,position:s,ease:"back.out(0.5)",onComplete:e===this.reels.length-1?this.end.bind(this):void 0})}}onRendererTick(){this.updateSlots()}updateSlots(){if(this.reels&&this.reelsModule)for(let e=0;e<this.reels.length;e++){const t=this.reels[e];t.blur.blurY=8*(t.position-t.previousPosition),t.previousPosition=t.position;for(let e=0;e<t.symbols.length;e++){const i=t.symbols[e],s=i.getView(),n=(i.getSprite(),s.y),o=this.reelsModule.getConfig().symbolSize;s.y=(t.position+e)%t.symbols.length*o-o,s.y<0&&n>o&&i.setAssetId(this.reelsModule.generateSymbolId())}}}}t.default=a},44e3:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(48033)),o=i(22366),r=i(74017),l=s(i(30998));class a extends n.default{constructor(e,t){super(e,t),this.tween=null}init(){super.init(),this.tween=new o.PIXITween(this.engine),this.engine.signals.on(l.default.RENDERER_TICK,this.onRendererTick.bind(this))}start(){if(this.tween&&this.reels)for(let e=0;e<this.reels.length;e++){const t=this.reels[e],i=Math.floor(3*Math.random()),s=t.position+10+5*e+i,n=2500+600*e+600*i;this.tween.tweenTo(t,r.TweenProp,s,n,this.tween.backout(.5),null,e===this.reels.length-1?this.end.bind(this):null)}}onRendererTick(){this.updateSlots()}updateSlots(){if(this.reels&&this.reelsModule)for(let e=0;e<this.reels.length;e++){const t=this.reels[e];t.blur.blurY=8*(t.position-t.previousPosition),t.previousPosition=t.position;for(let e=0;e<t.symbols.length;e++){const i=t.symbols[e],s=i.getView(),n=(i.getSprite(),s.y),o=this.reelsModule.getConfig().symbolSize;s.y=(t.position+e)%t.symbols.length*o-o,s.y<0&&n>o&&i.setAssetId(this.reelsModule.generateSymbolId())}}}}t.default=a},46342:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(95894),o=s(i(60235));t.default=class{constructor(e,t){this.view=new n.Container,this.asset=null,this.assetsModule=null,this.engine=e,this.config=t,this.init()}init(){this.assetsModule=this.engine.getModule(o.default),this.view.label=this.config.name,this.asset=this.createAsset(this.assetsModule),this.asset.anchor.x=.5,this.realign(),this.view.addChild(this.asset),this.view.x=this.config.x,this.view.y=this.config.y}createAsset(e){const t=n.Texture.from(this.config.assetId);return new n.Sprite(t)}realign(){this.asset&&(this.asset.scale.x=this.asset.scale.y=Math.min(this.config.symbolSize/this.asset.width,this.config.symbolSize/this.asset.height))}setAssetId(e){this.asset&&(this.asset.texture=n.Texture.from(e))}getView(){return this.view}getSprite(){return this.asset}}},67057:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=i(95894);t.default=class{constructor(e){this.container=new s.Container,this.symbols=[],this.position=0,this.previousPosition=0,this.blur=new s.BlurFilter,this.config=e,this.init()}init(){this.config.holder.addChild(this.container),this.container.label=this.config.name,this.container.x=this.config.x,this.container.filters=[this.blur],this.blur.blurX=0,this.blur.blurY=0}addSymbol(e){this.symbols.push(e),this.container.addChild(e.getView())}getView(){}}},42421:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433)),o=s(i(32459)),r=s(i(30998)),l=s(i(66690)),a=i(95894),d=s(i(46342)),h=s(i(67057)),u=s(i(71271)),c=i(90750),f=s(i(44e3)),p=s(i(69091)),g=s(i(84230));class _ extends n.default{constructor(e,t){super(e,t),this.renderer=null,this.reelContainer=new a.Container,this.reels=[],this.reelAnimation=null,this.random=null}init(){this.renderer=this.engine.getModule(o.default),this.reelContainer.label="ReelsModule",this.random=new u.default(this.config.randomSeed),this.engine.signals.on(l.default.REELS_CREATE,this.onReelsCreate.bind(this)),this.engine.signals.on(r.default.RESIZE,this.onResize.bind(this))}onReelsCreate(){for(let e=0;e<this.config.rows;e++){const t={name:`Reel ${e}`,x:e*this.config.reelWidth,holder:this.reelContainer},i=new h.default(t);for(let e=0;e<this.config.columns;e++){const t={name:`Symbol ${e} ${this.generateSymbolId()}`,x:Math.round(this.config.symbolSize/2),y:e*this.config.symbolSize,symbolSize:this.config.symbolSize,assetId:this.generateSymbolId()},s=new d.default(this.engine,t);i.addSymbol(s)}this.reels.push(i)}this.engine.signals.send(r.default.RENDERER_ADD_CONTAINER,this.reelContainer),this.createReelsAnimation(),this.engine.signals.send(l.default.REELS_CREATE_DONE)}generateSymbolId(){return this.random?this.config.symbolIds[Math.floor(this.random.random()*this.config.symbolIds.length)]:0}createReelsAnimation(){switch(this.config.animation.type){case c.ReelAnimationType.Pixi:this.reelAnimation=new f.default(this.engine,this.config.animation.config);break;case c.ReelAnimationType.Gsap:this.reelAnimation=new p.default(this.engine,this.config.animation.config);break;case c.ReelAnimationType.FallDown:this.reelAnimation=new g.default(this.engine,this.config.animation.config)}this.reelAnimation&&this.reelAnimation.init()}onResize(){this.updatePosition()}updatePosition(){if(!this.renderer)return;const e=(this.renderer.getApp().screen.height-3*this.config.symbolSize)/2;this.reelContainer.y=e,this.reelContainer.x=Math.round(this.renderer.getApp().screen.width-5*this.config.reelWidth)}getReels(){return this.reels}}t.default=_},90750:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ReelAnimationType=void 0,function(e){e.Pixi="pixi",e.Gsap="gsap",e.FallDown="fallDown"}(i||(t.ReelAnimationType=i={}))},63217:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(38433)),o=s(i(66690)),r=i(95894),l=s(i(32459)),a=s(i(42421)),d=s(i(30998));class h extends n.default{constructor(e,t){super(e,t),this.renderer=null,this.reels=null,this.top=new r.Graphics,this.bottom=new r.Graphics,this.headerText=null,this.playText=null}init(){this.renderer=this.engine.getModule(l.default),this.reels=this.engine.getModule(a.default),this.engine.signals.on(o.default.REELS_CREATE_DONE,this.onReelsCreateDone.bind(this)),this.engine.signals.on(d.default.RESIZE,this.onResize.bind(this))}onReelsCreateDone(){this.addCovers(),this.addTitle(),this.addButton()}addTitle(){this.top&&(this.headerText=new r.Text(this.config.title.text,this.getStyle(this.config.title.style)),this.top.addChild(this.headerText),this.updateTitle())}getStyle(e){const t=Object.assign({},e);return e.fill&&(t.fill=this.generateGradient()),t}generateGradient(){const e=new r.FillGradient(0,0,0,36*1.7),t=[16777215,65433].map((e=>r.Color.shared.setValue(e).toNumber()));return t.forEach(((i,s)=>{const n=s/t.length;e.addColorStop(n,i)})),e}addButton(){this.bottom&&this.renderer&&(this.playText=new r.Text(this.config.button.text,this.getStyle(this.config.button.style)),this.bottom.addChild(this.playText),this.updatePlayText(),this.bottom.eventMode="static",this.bottom.cursor="pointer",this.bottom.addListener("pointerdown",this.onButtonClick.bind(this)))}onButtonClick(){this.engine.signals.send(o.default.PLAY_CLICK)}addCovers(){this.renderer&&this.reels&&(this.updateCovers(),this.renderer.getApp().stage.addChild(this.top),this.renderer.getApp().stage.addChild(this.bottom))}getMargin(){if(!this.renderer||!this.reels)return 0;return(this.renderer.getApp().screen.height-3*this.reels.getConfig().symbolSize)/2}updateCovers(){if(!this.renderer||!this.reels)return;this.top.clear(),this.bottom.clear();const e=this.getMargin();this.top.rect(0,0,this.renderer.getApp().screen.width,e).fill({color:0}),this.bottom.rect(0,3*this.reels.getConfig().symbolSize+e,this.renderer.getApp().screen.width,e).fill({color:0})}updateTitle(){this.headerText&&this.top&&(this.headerText.x=Math.round((this.top.width-this.headerText.width)/2),this.headerText.y=Math.round((this.getMargin()-this.headerText.height)/2))}updatePlayText(){if(!this.renderer||!this.playText)return;const e=this.getMargin();this.playText.x=Math.round((this.bottom.width-this.playText.width)/2),this.playText.y=this.renderer.getApp().screen.height-e+Math.round((e-this.playText.height)/2)}onResize(){this.updateCovers(),this.updateTitle(),this.updatePlayText()}}t.default=h}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,i,n,o)=>{if(!i){var r=1/0;for(h=0;h<e.length;h++){for(var[i,n,o]=e[h],l=!0,a=0;a<i.length;a++)(!1&o||r>=o)&&Object.keys(s.O).every((e=>s.O[e](i[a])))?i.splice(a--,1):(l=!1,o<r&&(r=o));if(l){e.splice(h--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[i,n,o]},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={524:0};s.O.j=t=>0===e[t];var t=(t,i)=>{var n,o,[r,l,a]=i,d=0;if(r.some((t=>0!==e[t]))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(a)var h=a(s)}for(t&&t(i);d<r.length;d++)o=r[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(h)},i=self.webpackChunktest_project=self.webpackChunktest_project||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=s.O(void 0,[559],(()=>s(28156)));n=s.O(n)})();